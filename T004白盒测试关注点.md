# 白盒测试关注点

1. 要加密解密的是否有操作，
2. Sql 传入的参数是一个数组，要先判空
3. 对于调用别人的批量接口，要注意批量接口的最大限制是多少，否则很容易越界，出现错误。白盒测试很容易检查出这个错误。
   --- 预防了这个bug的产生：导出场景。之前出现过一次这样的错误，再次出现批量的接口，多了一个心眼。
4. 使用limit 当这数据库排序指标都相同时，应该还要指定一个排序的，要不然分页时，数据会重复。是因为排序是非稳定排序 场景：使用limit进行分页且指定了排序时，发现当指定了排序的字段不是唯一能确定数据的，如：`unnormal_quota_count`（异常数）当异常数相同时，

```
mysql> SELECT id,order_course_id FROM t_course_quality where is_deleted = 0 order BY unnormal_quota_count desc ,scoring_rate asc limit 1,4;
+-----+-----------------+
| id  | order_course_id |
+-----+-----------------+
| 133 |        25905319 |
|   2 |        33340591 |
|   3 |        33340590 |
| 222 |        33339812 |
+-----+-----------------+
4 rows in set

==========================================

mysql> SELECT id,order_course_id FROM t_course_quality where is_deleted = 0 order BY unnormal_quota_count desc ,scoring_rate asc limit 2,4;
+-----+-----------------+
| id  | order_course_id |
+-----+-----------------+
|   2 |        33340591 |
|   3 |        33340590 |
| 222 |        33339812 |
|   5 |        33340580 |
+-----+-----------------+
4 rows in set
```

5.把测试过程中，出错点统计一下：常错点在哪里，或者特殊的场景也需要罗列

1. 在原有逻辑上新增修改逻辑，一定要考虑对原有逻辑的兼容，不能影响以前的逻辑

6.场景：

1. 技术优化测试：从前查bi索引拿数据，现在换成调用bi接口。涉及接口多，业务不熟悉，要求一定时间内上线。

7.设计时关注：如果是查询配置较频繁的话，一般是使用缓存。 缓存使用：查询量比较多的时候，建立缓存，不要总查询数据库。缓存是延迟都是ok的。

8.代码关注事务使用：

- 比如发送消息的代码要不要放在事务里面？ 发消息的逻辑应该不要放在事务中的
- 比如放在事务外

9.`rabbitmq`消息中间件测试注意点 消息重复消息 - 做好幂等性 消息丢失 - 非可靠消息 消息顺序性 - 这个通常不采取这种方式，应该从代码层面解决。比如有一个动作，取决于上一个动作通知，

10.`MySQL`排序，排序字段很多为空，排序不固定

11.排序字段为空，会导致排序不固定，数据重复，需要再增加一个字段排序，如id，一起排序即可

1. 注意 sql in () ，如果list为空，那么该SQL会报错， `SELECT * from t_organization_user_info WHERE teacher_id in ()`